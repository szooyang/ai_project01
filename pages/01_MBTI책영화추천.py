# app.py
import streamlit as st

st.set_page_config(page_title="MBTI 북&무비 추천", page_icon="📚🎬", layout="centered")

st.title("📚🎬 MBTI별 책 & 영화 추천")
st.write("원하는 MBTI를 골라줘~ 내가 그 유형에 맞는 책 2권, 영화 2편을 센스 있게 골라줄게! 😊\n\n(설치할 라이브러리 따로 필요 없음 — 스트림릿만으로 동작해요)")

mbti_list = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

recommendations = {
    "ISTJ": {
        "books": [
            ("『총, 균, 쇠』(재레드 다이아몬드)", "사실과 역사를 차분히 읽고 싶을 때 딱 좋아요. 🧐"),
            ("『어제 죽은 사람』(추리 소설)", "논리적이고 조직적인 줄거리 좋아하면 추천! 🔍")
        ],
        "movies": [
            ("『셜록 홈즈』(미스터리/추리)", "퍼즐 푸는 기분이 짜릿함! 🧩"),
            ("『머니볼』", "데이터와 원칙으로 결과를 만드는 이야기. 현실적이고 탄탄함 ⚙️")
        ]
    },
    "ISFJ": {
        "books": [
            ("『마음의 평화』(에세이)", "따뜻하고 안정감을 주는 글들로 위로받기 좋아요. 💌"),
            ("『작은 아씨들』", "인간관계와 책임감을 느끼는 스토리❤️")
        ],
        "movies": [
            ("『빅 피쉬』", "감성적이고 가족 이야기를 좋아한다면 추천 🌳"),
            ("『리틀 우먼』", "따뜻하고 정서적인 드라마. 공감 팍팍! 😊")
        ]
    },
    "INFJ": {
        "books": [
            ("『연금술사』(파울로 코엘료)", "내적 여정, 의미 찾기를 좋아하면 찰떡 💫"),
            ("『나미야 잡화점의 기적』", "사람과 이야기에서 위로를 얻는 타입에게 추천 ✨")
        ],
        "movies": [
            ("『이터널 선샤인』", "감성적이고 철학적인 사랑 이야기 💭"),
            ("『인셉션』", "심층적이고 상징적인 설정 좋아하면 빠질 수 있음 🌀")
        ]
    },
    "INTJ": {
        "books": [
            ("『1984』(조지 오웰)", "시스템과 구조를 분석하는 재미가 있음 🏛️"),
            ("『사피엔스』(유발 하라리)", "넓게 연결해서 생각하기 좋은 책 🌐")
        ],
        "movies": [
            ("『매드 맥스: 분노의 도로』", "전략적 판단과 계획을 즐기는 분에게 강추 🚗💨"),
            ("『인터스텔라』", "복잡한 설정과 큰 그림을 좋아하면 만족할 만한 작품 🌌")
        ]
    },
    "ISTP": {
        "books": [
            ("『체험 에세이/여행기』", "현장감 있는 이야기로 흥미를 느끼는 타입 ✈️"),
            ("『카라마조프가의 형제들(요약판)』", "사건 중심의 긴장감 있는 서사 추천 🔧")
        ],
        "movies": [
            ("『존 윅』", "액션 좋아하면 속 시원한 전개! 🔫"),
            ("『007 시리즈』", "기민하고 실용적인 캐릭터가 매력적임 🕶️")
        ]
    },
    "ISFP": {
        "books": [
            ("『달과 6펜스』", "감성적이고 예술적인 이야기 좋아함 🎨"),
            ("『작은 것들의 신』", "세심한 묘사와 감정선을 좋아하는 분께 추천 🌸")
        ],
        "movies": [
            ("『아멜리에』", "감성적이고 따뜻한 미장센이 매력적임 ☕️"),
            ("『라라랜드』", "음악과 색감, 감정표현이 예쁜 영화 🎶")
        ]
    },
    "INFP": {
        "books": [
            ("『호밀밭의 파수꾼』", "내면의 목소리가 중요한 분에게 찰떡 💬"),
            ("『별의 계승자』(판타지/성장소설)", "상상력과 감성을 자극하는 작품 ✨")
        ],
        "movies": [
            ("『비포 선라이즈』", "사소한 대화 속에서 공감 찾는 걸 좋아함 🌇"),
            ("『월터의 상상은 현실이 된다』", "꿈과 내면을 응원해주는 영화 🌈")
        ]
    },
    "INTP": {
        "books": [
            ("『코스믹 컬렉션』(과학 교양)", "지적 호기심을 자극하는 책 📘"),
            ("『논리학 입문』(가벼운 철학/논리 책)", "논리적 사고 좋아하면 재밌게 읽음 🧠")
        ],
        "movies": [
            ("『소스 코드』", "퍼즐 풀듯 구성된 SF를 좋아하면 굿 🧩"),
            ("『마션』", "문제 해결 중심의 지적 재미가 있음 🚀")
        ]
    },
    "ESTP": {
        "books": [
            ("『모험 소설』(스릴 있는 대중소설)", "빠른 전개와 모험을 좋아하면 딱! ⚡"),
            ("『그래도 나는 도전했다』(실화 에세이)", "도전적이고 실전적인 이야기 추천 🏁")
        ],
        "movies": [
            ("『다이하드』", "액션 스릴러로 속도감 있는 전개 좋아하면 👍"),
            ("『분노의 질주』", "에너지 넘치고 신나는 영화 🚗")
        ]
    },
    "ESFP": {
        "books": [
            ("『팝컬처 소설』(경쾌한 현대 소설)", "재미있고 트렌디한 이야기 좋아함 🎉"),
            ("『귀여운 에세이/청소년 성장물』", "가볍게 공감되는 이야기 추천 😊")
        ],
        "movies": [
            ("『레 미제라블(뮤지컬 영화)』", "감정 표현이 풍부하고 드라마틱한 걸 좋아함 🎭"),
            ("『미쓰 리틀 선샤인』", "유쾌하고 따뜻한 감동이 있는 영화 🌞")
        ]
    },
    "ENFP": {
        "books": [
            ("『호밀밭의 파수꾼』", "감성적이면서도 반항적인 캐릭터 공감 가능 💥"),
            ("『너는 나의 봄』(청춘 성장소설)", "에너지 넘치고 희망적인 이야기 추천 🌱")
        ],
        "movies": [
            ("『이터널 선샤인』", "감정의 깊이를 경험하고 싶을 때 💔➡️💖"),
            ("『월터의 상상은 현실이 된다』", "상상과 현실 사이에서 영감 받기 좋아요 ✨")
        ]
    },
    "ENTP": {
        "books": [
            ("『사피엔스』", "넓은 관점에서 아이디어를 얻기 좋아함 🌍"),
            ("『토론과 논쟁의 기술』", "아이디어 싸움 즐기는 타입에게 추천 🗣️")
        ],
        "movies": [
            ("『굿 윌 헌팅』", "재기발랄하고 지적인 캐릭터들이 매력적임 🧠"),
            ("『12 몽키즈』", "아이디어가 빵빵한 복잡한 플롯 좋아하면 재밌음 🌀")
        ]
    },
    "ESTJ": {
        "books": [
            ("『리더의 조건』(경영/자기계발)", "구체적 지침과 조직 운영 관련 내용 좋아함 🏢"),
            ("『사건 중심 논픽션』", "사실 중심의 명확한 전개를 선호함 📚")
        ],
        "movies": [
            ("『셜록 홈즈』", "체계적인 해결과 추진력을 보는 재미가 있음 🔎"),
            ("『워커스』(조직/팀워크 중심 영화)", "리더십과 팀 운영 관련한 영화 추천 👔")
        ]
    },
    "ESFJ": {
        "books": [
            ("『작은 아씨들』", "관계와 정서적 유대에 관심 많은 타입 ❤️"),
            ("『사람 사는 이야기 에세이』", "따뜻한 인간미가 느껴지는 글 추천 ☕")
        ],
        "movies": [
            ("『프라이드 앤 프리저디스』", "사람 사이의 관계를 즐겨보는 분께 👍"),
            ("『리틀 미스 선샤인』", "가족과 응원, 화목한 분위기 굿 🌈")
        ]
    },
    "ENFJ": {
        "books": [
            ("『리더십 관련 에세이』", "사람을 이끄는 이야기와 통찰 좋아함 🌟"),
            ("『영감 주는 실화』", "타인에게 영감을 주는 삶을 다룬 책 추천 ✨")
        ],
        "movies": [
            ("『인턴』", "사람과 조직, 따뜻한 인간미가 공감됨 🤝"),
            ("『셰이프 오브 워터』", "감성적이면서도 강렬한 메시지에 끌릴 수 있음 🐾")
        ]
    },
    "ENTJ": {
        "books": [
            ("『전략 관련 도서』(경영/전략 입문)", "장기 계획과 목표 설정 좋아하면 필독 🔮"),
            ("『위대한 기업 이야기』", "성공 사례와 전략을 분석하는 재미 있음 🏆")
        ],
        "movies": [
            ("『소셜 네트워크』", "야망과 전략, 추진력에 공감할 수 있음 💼"),
            ("『킹스맨』", "스타일과 목적의식이 결합된 영화로 쾌감 있음 🎩")
        ]
    }
}

st.sidebar.header("설정")
show_notes = st.sidebar.checkbox("추천 이유/한줄멘트 함께 보기", value=True)

mbti = st.selectbox("🔎 MBTI를 골라줘", mbti_list)

if st.button("추천 받기! ✨"):
    rec = recommendations.get(mbti)
    if not rec:
        st.write("아직 그 유형은 데이터가 없네... 😅")
    else:
        st.subheader(f"📖 {mbti}님을 위한 책 추천")
        for i, (title, note) in enumerate(rec["books"], start=1):
            if show_notes:
                st.markdown(f"**{i}. {title}** — {note}")
            else:
                st.markdown(f"**{i}. {title}**")
        st.subheader(f"🎬 {mbti}님을 위한 영화 추천")
        for i, (title, note) in enumerate(rec["movies"], start=1):
            if show_notes:
                st.markdown(f"**{i}. {title}** — {note}")
            else:
                st.markdown(f"**{i}. {title}**")
        st.write("---")
        st.write("더 보고 싶으면 MBTI를 바꿔서 여러 추천 받아봐~ 친구랑 같이 보면 더 재밌음 😄")

st.caption("참고: 추천은 '성향'에 맞춘 제안이에요. 취향은 개인차가 있으니 마음 가는 걸 골라 읽어봐요!")
